<section class="content px-4 pt-1">
  <div class="breadcrumb header my-2">
    <app-bread-crumb [listBreadCrumb]="listBreadCrumb"></app-bread-crumb>
  </div>
  <div class="row">
    <div class="col-lg-6 col-xs-12" *ngIf="isShowProjectSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-11 row">
             <div class="title">Project Setting</div>
             <div class="ml-3 mt-2">
               <div *ngIf="!projectConnectResult?.message"><i class="fa fa-spinner fa-spin d-line mr-2"></i>Is connecting ...</div>
               <div *ngIf="projectConnectResult?.isConnected" class="text-success"><i class="fa-solid fa-check mr-2"></i> Connected</div>
               <div class="message" *ngIf="projectConnectResult?.isConnected == false" class="text-danger" [matTooltip]="projectConnectResult?.message"><i class="fa-solid fa-x mr-2"></i>Fail connected</div>
             </div>
            </div>
             <div class="my-1 col-md-1 ml-2">
               <div class="text-right">
                 <button mat-icon-button [matMenuTriggerFor]="headerMenu1" (click)="$event.stopPropagation()" class="header-dropdown-mat-icon-button pl-4">
                   <mat-icon>more_vert</mat-icon>
                 </button>
                 <mat-menu #headerMenu1="matMenu">
                   <button mat-menu-item (click)="checkConnectToProject()">
                     <mat-icon>refresh</mat-icon>
                     <span>Check connect</span>
                   </button>
                 </mat-menu>
               </div>
             </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Project Uri"
                  [(ngModel)]="configuration?.projectService.baseAddress" #projectUri />
              </mat-form-field>
            </div>
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                  [(ngModel)]="configuration.projectService.securityCode" #ProjectSecretKey />
              </mat-form-field>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowTimesheetSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-11 row">
              <div class="title">Timesheet Setting</div>
              <div class="ml-3 mt-2">
                <div *ngIf="!timesheetConnectResult.message"><i class="fa fa-spinner fa-spin d-line mr-2"></i>Is connecting ...</div>
                <div *ngIf="timesheetConnectResult?.isConnected" class="text-success"><i class="fa-solid fa-check mr-2"></i> Connected</div>
                <div class="message" *ngIf="timesheetConnectResult?.isConnected == false"  [matTooltip]="timesheetConnectResult?.message" class="text-danger"><i class="fa-solid fa-x mr-2"></i>Fail connected</div>
              </div>
            </div>
            <div class="my-1 col-md-1 ml-2">
              <div class="text-right">
                <button mat-icon-button [matMenuTriggerFor]="headerMenu2" (click)="$event.stopPropagation()" class="header-dropdown-mat-icon-button pl-4">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #headerMenu2="matMenu">
                  <button mat-menu-item (click)="checkConnectToTimesheet()">
                    <mat-icon>refresh</mat-icon>
                    <span>Check connect</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Timesheet Uri"
                  [(ngModel)]="configuration.timesheetService.baseAddress" #timesheetUri />
              </mat-form-field>
            </div>
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                  [(ngModel)]="configuration.timesheetService.securityCode" #TimesheetSecretKey />
              </mat-form-field>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowIMSSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-11 row">
              <div class="title">IMS Setting</div>
              <div class="ml-3 mt-2">
                <div *ngIf="!imsConnectResult?.message"><i class="fa fa-spinner fa-spin d-line mr-2"></i>Is connecting ...</div>
                <div *ngIf="imsConnectResult?.isConnected" class="text-success"><i class="fa-solid fa-check mr-2"></i> Connected</div>
                <div class="message" *ngIf="imsConnectResult?.isConnected == false" class="text-danger" [matTooltip]="imsConnectResult?.message"><i class="fa-solid fa-x mr-2"></i>Fail connected</div>
              </div>
            </div>
            <div class="my-1 col-md-1 ml-2">
              <div class="text-right">
                <button mat-icon-button [matMenuTriggerFor]="headerMenu3" (click)="$event.stopPropagation()" class="header-dropdown-mat-icon-button pl-4">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #headerMenu3="matMenu">
                  <button mat-menu-item (click)="checkConnectToIMS()">
                    <mat-icon>refresh</mat-icon>
                    <span>Check connect</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="IMS Uri"
                  [(ngModel)]="configuration.imsService.baseAddress" #imsUri />
              </mat-form-field>
            </div>
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                  [(ngModel)]="configuration.imsService.securityCode" #IMSSecretKey />
              </mat-form-field>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowTalentSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-11 row">
              <div class="title">Talent Setting</div>
              <div class="ml-3 mt-2">
                <div *ngIf="!talentConnectResult?.message"><i class="fa fa-spinner fa-spin d-line mr-2"></i>Is connecting ...</div>
                <div *ngIf="talentConnectResult?.isConnected" class="text-success"><i class="fa-solid fa-check mr-2"></i> Connected</div>
                <div class="message" *ngIf="talentConnectResult?.isConnected == false" class="text-danger" [matTooltip]="talentConnectResult?.message"><i class="fa-solid fa-x mr-2"></i>Fail connected</div>
              </div>
            </div>
            <div class="my-1 col-md-1 ml-2">
              <div class="text-right">
                <button class ="pl-2" mat-icon-button [matMenuTriggerFor]="headerMenu4" (click)="$event.stopPropagation()" class="header-dropdown-mat-icon-button pl-4">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #headerMenu4="matMenu">
                  <button mat-menu-item (click)="checkConnectToTalent()">
                    <mat-icon>refresh</mat-icon>
                    <span>Check connect</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Talent Uri"
                  [(ngModel)]="configuration.talentService.baseAddress" #talentUri />
              </mat-form-field>
            </div>
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                  [(ngModel)]="configuration.talentService.securityCode" #TalentSecretKey />
              </mat-form-field>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowFinfastSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-11 row">
              <div class="title">Finfast Setting</div>
              <div class="ml-3 mt-2">
                <div *ngIf="!finfastConnectResult.message"><i class="fa fa-spinner fa-spin d-line mr-2"></i>Is connecting ...</div>
                <div *ngIf="finfastConnectResult?.isConnected" class="text-success"><i class="fa-solid fa-check mr-2"></i> Connected</div>
                <div class="message" *ngIf="finfastConnectResult?.isConnected == false" class="text-danger" [matTooltip]="finfastConnectResult?.message"><i class="fa-solid fa-x mr-2"></i>Fail connected</div>
              </div>
            </div>
            <div class="my-1 col-md-1 ml-2">
              <div class="text-right">
                <button mat-icon-button [matMenuTriggerFor]="headerMenu5" (click)="$event.stopPropagation()" class="header-dropdown-mat-icon-button pl-4">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #headerMenu5="matMenu">
                  <button mat-menu-item (click)="checkConnectToFinfast()">
                    <mat-icon>refresh</mat-icon>
                    <span>Check connect</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Finfast Uri"
                  [(ngModel)]="configuration?.finfastService.baseAddress" #finfastUri />
              </mat-form-field>
            </div>
            <div class="col col-12 col-md-12">
              <mat-form-field class="w-100 mt-2">
                <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                  [(ngModel)]="configuration?.finfastService.securityCode" #FinfastSecretKey />
              </mat-form-field>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowLoginSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="align-middle title">Login Setting</div>
            <div class="ml-3" *ngIf="isAllowLoginSettingEdit()">
              <button class="btn bg-blue mr-3"
                (click)="isEditLoginSetting = !isEditLoginSetting; clientId.focus();$event.stopPropagation()"
                [hidden]="isEditLoginSetting">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn bg-primary"
                (click)="isEditLoginSetting = !isEditLoginSetting;changeLoginSetting() ;$event.stopPropagation()"
                [hidden]="!isEditLoginSetting">
                <i class="fas fa-check"></i>
              </button>
              <button class="btn btn-secondary btn-action ml-3"
                (click)="getLoginSetting(); isEditLoginSetting = !isEditLoginSetting;$event.stopPropagation()"
                [hidden]="!isEditLoginSetting">
                <i class="fas fa-x"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12 my-3">
              <mat-checkbox class="example-margin" [disabled]="!isEditLoginSetting"
                [checked]="loginSetting.enableNormalLogin" (change)="isEnableNormalLogin($event.checked)">
                Enable normal login
              </mat-checkbox>
            </div>
            <div class="col col-12 col-md-12 mt-2">
              <mat-form-field class="w-100 ml-1 mt-2">
                <input [disabled]="!isEditLoginSetting" class="w-100" type="text" matInput placeholder="Client App Id"
                  [(ngModel)]="loginSetting.googleClientId" #clientId />
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xs-12" *ngIf="isShowAutoUpdateSettingView()">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="align-middle title">Worker Auto Update All Employee Info To Other Tool</div>
            <div class="ml-3" *ngIf="isAllowAutoUpdateSettingEdit()">
              <button class="btn bg-blue mr-3"
                (click)="isEditAutoUpdateSetting = !isEditAutoUpdateSetting; RunAtHour.focus();$event.stopPropagation()"
                [hidden]="isEditAutoUpdateSetting">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn bg-primary" (click)="isEditAutoUpdateSetting = !isEditAutoUpdateSetting;changeWorkerAutoUpdateAllEmployeeInfoToOther();$event.stopPropagation()"
                [hidden]="!isEditAutoUpdateSetting">
                <i class="fas fa-check"></i>
              </button>
              <button class="btn btn-secondary btn-action ml-3"
                (click)="getAutoUpdateAllEmployeeInfoToOther(); isEditAutoUpdateSetting = !isEditAutoUpdateSetting;$event.stopPropagation()"
                [hidden]="!isEditAutoUpdateSetting">
                <i class="fas fa-x"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col col-12 col-md-12 my-3">
              <mat-checkbox class="example-margin" [disabled]="!isEditAutoUpdateSetting"
                [checked]="WorkerAutoUpdateAllEmployeeInfoToOtherToolSetting.enableWorkerAutoUpdateAllEmployeeInfoToOtherToolSetting" (change)="onChangeEnableAutoUpdateAllEmployeeInfoToOther($event.checked)">
                Enable Auto Update
              </mat-checkbox>
            </div>
            <div class="col col-12 col-md-12 mt-2">
              <mat-form-field class="w-10 ml-1 mt-2">
                <input [disabled]="!isEditAutoUpdateSetting" class="w-100" type="number"  min="0" max="23" matInput placeholder="Run At Hour"
                  [(ngModel)]="WorkerAutoUpdateAllEmployeeInfoToOtherToolSetting.runAtHour" #runAtHour list="hour-list"/>
                  <datalist id="hour-list">
                    <option value="0">
                    <option value="1">
                    <option value="2">
                    <option value="3">
                    <option value="4">
                    <option value="5">
                    <option value="6">
                    <option value="7">
                    <option value="8">
                    <option value="9">
                    <option value="10">
                    <option value="11">
                    <option value="12">
                    <option value="13">
                    <option value="14">
                    <option value="15">
                    <option value="16">
                    <option value="17">
                    <option value="18">
                    <option value="19">
                    <option value="20">
                    <option value="21">
                    <option value="22">
                    <option value="23">
                  </datalist>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
    </div>    
    <div class="col-lg-6 col-xs-12">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="align-middle title">Discord channels</div>
              <div class="ml-3">
                <button class="btn bg-blue mr-3"
                  (click)="isEditDiscordSetting = !isEditDiscordSetting; iTChannel.focus();$event.stopPropagation()"
                  [hidden]="isEditDiscordSetting">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn bg-primary"
                  (click)="isEditDiscordSetting = !isEditDiscordSetting;changeDiscordChannels() ;$event.stopPropagation()"
                  [hidden]="!isEditDiscordSetting">
                  <i class="fas fa-check"></i>
                </button>
                <button class="btn btn-secondary btn-action ml-3"
                  (click)="getDiscordChannels(); isEditDiscordSetting = !isEditDiscordSetting;$event.stopPropagation()"
                  [hidden]="!isEditDiscordSetting">
                  <i class="fas fa-x"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditDiscordSetting" name="dciTChannel" class="w-100" type="text" matInput placeholder="HR-IT channelId"
                    [(ngModel)]="discordChannels.itChannel" #iTChannel />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditDiscordSetting" name="channelId" class="w-100" type="text" matInput placeholder="Payroll channel"
                    [(ngModel)]="discordChannels.payrollChannelId" #payrollChannelId />
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </div>
    <div class="col-lg-6 col-xs-12">
        <div class="card">
          <div class="card-header">
            <div class="title">Komu Setting</div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col col-12 col-md-12">
                <mat-form-field class="w-100 mt-2">
                  <input readonly class="w-100" type="text" matInput placeholder="komu Uri"
                    [(ngModel)]="configuration?.komuService.baseAddress" #komuServicetUri />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12">
                <mat-form-field class="w-100 mt-2">
                  <input readonly class="w-100" type="text" matInput placeholder="Security Code"
                    [(ngModel)]="configuration?.komuService.securityCode" #komuServiceSecretKey />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12">
                <mat-form-field class="w-100 mt-2">
                  <input readonly class="w-100" type="text" matInput placeholder="Channel Id devMode"
                    [(ngModel)]="configuration?.komuService.channelIdDevMode" #channelIdDevMode />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12">
                <mat-form-field class="w-100 mt-2">
                  <input readonly class="w-100" type="text" matInput placeholder="Enable notice Komu"
                    [(ngModel)]="configuration?.komuService.enableNoticeKomu" #enableNoticeKomu />
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </div>     
    <div class="col-lg-6 col-xs-12">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="align-middle title">Email Setting</div>
              <div class="ml-3">
                <button class="btn bg-blue mr-3"
                  (click)="isEditEmailSetting = !isEditEmailSetting; clientId.focus();$event.stopPropagation()"
                  [hidden]="isEditEmailSetting">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn bg-primary"
                  (click)="isEditEmailSetting = !isEditEmailSetting;changeEmailSetting() ;$event.stopPropagation()"
                  [hidden]="!isEditEmailSetting">
                  <i class="fas fa-check"></i>
                </button>
                <button class="btn btn-secondary btn-action ml-3"
                  (click)="getEmailSetting(); isEditEmailSetting = !isEditEmailSetting;$event.stopPropagation()"
                  [hidden]="!isEditEmailSetting">
                  <i class="fas fa-x"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col col-12 col-md-12 my-3">
                <mat-checkbox class="example-margin" [disabled]="!isEditEmailSetting"
                  [ngModel]="booleanConvert(emailSetting.enableSsl)" (change)="enableSSL($event.checked)">
                  Enable SSL
                </mat-checkbox>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput placeholder="Host"
                    [(ngModel)]="emailSetting.host" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput placeholder="Port"
                    [(ngModel)]="emailSetting.port" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput placeholder="Display name"
                    [(ngModel)]="emailSetting.displayName" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput placeholder="Username"
                    [(ngModel)]="emailSetting.userName" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput placeholder="Password"
                    [(ngModel)]="emailSetting.password" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-form-field class="w-100 ml-1 mt-2">
                  <input [disabled]="!isEditEmailSetting" class="w-100" type="text" matInput
                    placeholder="Default from address" [(ngModel)]="emailSetting.defaultAddress" #clientId />
                </mat-form-field>
              </div>
              <div class="col col-12 col-md-12 mt-2">
                <mat-checkbox class="example-margin" [disabled]="!isEditEmailSetting"
                  [ngModel]="booleanConvert(emailSetting.useDefaultCredentials)" (change)="checkDefaultCredentials($event.checked)">
                  Use Default Credentials
                </mat-checkbox>
              </div>
            </div>
          </div>
        </div>
      </div>   
  </div>
  
</section>
